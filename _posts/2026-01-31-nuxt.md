---
layout: post
title: '[Nuxt.js] Nuxt 3 í•µì‹¬ ê°œë…: Composition API, ë Œë”ë§ ì „ëµ, ë°ì´í„° íŒ¨ì¹­'
author: chanhee.kim
date: 2026-01-31 20:15
tags: [nuxt, vue, frontend, web-development]
image: /files/covers/cover-dev-08.jpg
description: "Nuxt 3ì˜ í•µì‹¬ ê°œë…ì¸ Composition API, ìœ ë‹ˆë²„ì„¤ ë Œë”ë§, Hydration, useFetch, useHead, Auto-import ë“±ì„ ì •ë¦¬í•©ë‹ˆë‹¤. Vue 2 Options APIì™€ì˜ ì°¨ì´ì ë„ ë¹„êµí•´ë´…ë‹ˆë‹¤."
keywords: "Nuxt 3 í•µì‹¬ ê°œë…: Composition API, ë Œë”ë§ ì „ëµ, ë°ì´í„° íŒ¨ì¹­, nuxt, vue, í”„ë¡ íŠ¸ì—”ë“œ, ì›¹ ê°œë°œ, ê°œë°œ ë¸”ë¡œê·¸"
---

NuxtëŠ” **Vue.js ê¸°ë°˜ì˜ SSR(Server-Side Rendering) í”„ë ˆì„ì›Œí¬**ì´ë©°, Vue 3ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.  
ê¸°ë³¸ì ìœ¼ë¡œ ìœ ë‹ˆë²„ì„¤ ë Œë”ë§ì„ ì±„íƒí•´ ì´ˆê¸° ë Œë”ë§ ì„±ëŠ¥ê³¼ SEOë¥¼ ëª¨ë‘ ê³ ë ¤í•œ êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.

<!--more-->

---

## Composition API vs Options API

### Options API (Vue 2 ì¤‘ì‹¬)

- `data`, `methods`, `computed`, `mounted` ë“± **ì˜µì…˜ ë‹¨ìœ„ë¡œ ì—­í• ì„ ë¶„ë¦¬**í•˜ì—¬ ì½”ë“œ ì‘ì„±
- `this` ì»¨í…ìŠ¤íŠ¸ì— ì˜ì¡´
- TypeScript ì‚¬ìš© ì‹œ `this` í™•ì¥ìœ¼ë¡œ ì¸í•´ íƒ€ì… ê´€ë¦¬ê°€ ë¶ˆí¸í•¨
- **Vue 2ëŠ” 2023ë…„ 12ì›” 31ì¼ë¶€ë¡œ ì§€ì› ì¢…ë£Œ(EOL)**ë¨
- Nuxt 3ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ, ê¶Œì¥ë˜ì§€ ì•ŠìŒ

```vue
<!-- Vue 2 - Options API ì˜ˆì‹œ -->
<template>
  <div>
    <h1>{{ message }}</h1>
    <p>ì¹´ìš´íŠ¸: {{ count }}</p>
    <button @click="increment">ì¦ê°€</button>
    <button @click="setMessage('Vue 2ë¡œ ë³€ê²½ë¨')">ë©”ì‹œì§€ ë³€ê²½</button>
  </div>
</template>

<script lang="ts">
import Vue from 'vue'

export default Vue.extend({
  data() {
    return {
      count: 0 as number,
      message: 'ì•ˆë…•í•˜ì„¸ìš”, Vue 2!' as string
    }
  },
  methods: {
    increment(this: Vue & { count: number }) {
      this.count++
    },
    setMessage(this: Vue & { message: string }, msg: string) {
      this.message = msg
    }
  }
})
</script>
```

---

### Composition API (Vue 3 & Nuxt ê¸°ë³¸)

- `<script setup>` ë¸”ë¡ ë‚´ì—ì„œ í•¨ìˆ˜ ê¸°ë°˜ìœ¼ë¡œ ë¡œì§ êµ¬ì„±
- ref, computed, onMounted ë“±ì„ ì§ì ‘ ì‚¬ìš©
- thisë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ íƒ€ì… ì•ˆì •ì„± ìš°ìˆ˜
- useXXX í˜•íƒœì˜ Composableì„ í†µí•´ ë¡œì§ ì¬ì‚¬ìš© ê°€ëŠ¥
- NuxtëŠ” Composition API ì‚¬ìš©ì„ ì „ì œë¡œ ì„¤ê³„ë¨


```vue
<!-- Vue 3 - Composition API ì˜ˆì‹œ -->
<template>
  <div>
    <h1>{{ message }}</h1>
    <p>ì¹´ìš´íŠ¸: {{ count }}</p>
    <button @click="increment">ì¦ê°€</button>
    <button @click="setMessage('Vue 3ë¡œ ë³€ê²½ë¨')">ë©”ì‹œì§€ ë³€ê²½</button>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const count = ref<number>(0)
const message = ref<string>('ì•ˆë…•í•˜ì„¸ìš”, Vue 3!')

function increment() {
  count.value++
}

function setMessage(msg: string) {
  message.value = msg
}
</script>
```

### ì£¼ì˜ ì‚¬í•­

- `<script setup\>` ìµœìƒìœ„ ì½”ë“œëŠ” ì»´í¬ë„ŒíŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì „ì— ì‹¤í–‰
- SSR í™˜ê²½ì—ì„œëŠ” window, document ê°™ì€ Browser API ì‚¬ìš© ê¸ˆì§€
- ë°˜ë“œì‹œ onMounted() ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•´ì•¼ í•¨

--- 

### ìœ ë‹ˆë²„ì„¤ ë Œë”ë§ (Universal Rendering)

ğŸ“Œ Nuxtì˜ ê¸°ë³¸ ë Œë”ë§ ë°©ì‹ìœ¼ë¡œ,
SSR + CSRì˜ ì¥ì ì„ ê²°í•©í•œ í•˜ì´ë¸Œë¦¬ë“œ ë Œë”ë§ ì „ëµ

## ë™ì‘ íë¦„

1. ì‚¬ìš©ìê°€ í˜ì´ì§€ ìš”ì²­
2. ì„œë²„ì—ì„œ Vue ì½”ë“œë¥¼ ì‹¤í–‰í•´ ì™„ì„±ëœ HTML ìƒì„± (SSR)
3. ë¸Œë¼ìš°ì €ëŠ” HTMLì„ ì¦‰ì‹œ í™”ë©´ì— í‘œì‹œ
4. ì´í›„ JavaScript ë²ˆë“¤ì„ ë‹¤ìš´ë¡œë“œ ë° ì‹¤í–‰
5. ì„œë²„ HTMLê³¼ Vue ìƒíƒœë¥¼ ì—°ê²° â†’ í•˜ì´ë“œë ˆì´ì…˜(Hydration)
6. ì´í›„ í˜ì´ì§€ ì´ë™ì€ CSR ë°©ì‹(SPAì²˜ëŸ¼ ë™ì‘)

### Hydrationì´ë€?

- ì„œë²„ì—ì„œ ìƒì„±ëœ HTMLì„ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•Šê³ 
- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì™€ ë°˜ì‘í˜• ìƒíƒœë§Œ ì£¼ì…í•˜ëŠ” ê³¼ì •

### Code Splitting (ì½”ë“œ ë¶„í• )

- NuxtëŠ” í˜ì´ì§€ / ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ìë™ ì½”ë“œ ë¶„í• 
- ì´ˆê¸° ë¡œë”© ì‹œ í•„ìš”í•œ JS ì²­í¬ë§Œ ë¡œë“œ
- ë‹¤ë¥¸ í˜ì´ì§€ ì´ë™ ì‹œ í•„ìš”í•œ ì²­í¬ë§Œ ì¶”ê°€ ë‹¤ìš´ë¡œë“œ

### Prefetching

- <NuxtLink>ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±°ë‚˜
- ë§í¬ê°€ ë·°í¬íŠ¸ì— ë“¤ì–´ì˜¤ë©´
- í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë¯¸ë¦¬ ë¡œë“œ

```vue
<NuxtLink to="/hello">Hello page</NuxtLink>
```

---

### ì£¼ì˜í•  ì 
### Browser API ì‚¬ìš©

- SSR í™˜ê²½ì—ì„œëŠ” ì‹¤í–‰ ë¶ˆê°€
- ë°˜ë“œì‹œ onMounted() ë‚´ë¶€ì—ì„œ ì‚¬ìš©
```vue
onMounted(() => {
    window.addEventListener('resize', ...)
})
```

--- 

### HTTP í†µì‹  ì¤‘ë³µ í˜¸ì¶œ ì´ìŠˆ
$fetch
- Nuxtì—ì„œ ì œê³µí•˜ëŠ” ì „ì—­ HTTP í´ë¼ì´ì–¸íŠ¸
- ì‹¤í–‰ í™˜ê²½ì— ë”°ë¼ ìë™ ì„ íƒ
  - ì„œë²„: node-fetch-native
  - ë¸Œë¼ìš°ì €: native fetch
- Axiosë³´ë‹¤ ê°€ë³ê³  SSR/CSR í™˜ê²½ì— ìµœì í™”

### ë¬¸ì œì  (SSR ì»´í¬ë„ŒíŠ¸ì—ì„œ $fetch ì‚¬ìš© ì‹œ)
1. ì„œë²„ ë Œë”ë§ ì‹œ API í˜¸ì¶œ
2. í´ë¼ì´ì–¸íŠ¸ í•˜ì´ë“œë ˆì´ì…˜ ì‹œ ë™ì¼ API ì¬í˜¸ì¶œ
3. ë°ì´í„° ë¶ˆì¼ì¹˜ ì‹œ Hydration Mismatch ì˜¤ë¥˜ ë°œìƒ

---

### í•´ê²° ë°©ë²•: useFetch

- Nuxtì—ì„œ ì œê³µí•˜ëŠ” SSR ì „ìš© ë°ì´í„° íŒ¨ì¹­ ì»´í¬ì €ë¸”
- ì„œë²„ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ìë™ ì „ë‹¬
- ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€ + ìƒíƒœ ì¼ê´€ì„± ë³´ì¥

```ts
const { data, pending, error } = await useFetch('/api/data')
```

### ì‚¬ìš© ê¸°ì¤€

- ì´ˆê¸° ë°ì´í„° íŒ¨ì¹­ â†’ useFetch
- ì‚¬ìš©ì ì´ë²¤íŠ¸ / onMounted ì´í›„ â†’ $fetch

--- 

### useHead

- í˜ì´ì§€ë³„ head ë©”íƒ€ ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” Nuxt ì»´í¬ì €ë¸”
- ë¶€ëª¨/ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë™ì‹œì— ì‚¬ìš© ì‹œ
  â†’ ìì‹ ì»´í¬ë„ŒíŠ¸ ì„¤ì •ì´ ìš°ì„ 

```ts
const { data, status } = await useEventFetch<IResponse<IOgData>>(
  `/api/og/${params.code}`,
)

const ogData = data.value

if (ogData?.status === 200 && status.value === 'success') {
  const { title, description, imageUrl, url } = ogData.data

  useHead({
    title,
    meta: [
      { property: 'og:type', content: 'website' },
      { property: 'og:title', content: title },
      { property: 'og:description', content: description },
      { property: 'og:image', content: image },
      { property: 'og:url', content: url },
      { name: 'description', content: description },
      { name: 'image', content: imageUrl },
      // Facebook
      { property: 'fb:app_id', content: 'app_id' },
      { property: 'fb:image:type', content: `image/jpg` },
      // Twitter
      { name: 'twitter:title', content: title },
      { name: 'twitter:description', content: description },
      { name: 'twitter:image', content: imageUrl },
    ],
  })
}

```

---

### Auto-import

NuxtëŠ” íŠ¹ì • ë””ë ‰í† ë¦¬ ë° APIì— ëŒ€í•´ ìë™ import ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

#### ìë™ìœ¼ë¡œ import ë˜ëŠ” ëŒ€ìƒ

- Vue API (ref, computed, watch, onMounted ë“±)
- Nuxt Composable (useFetch, useRoute, useRouter, useHead ë“±)
- /composables, /utils, /plugins ë””ë ‰í† ë¦¬ ë‚´ë¶€ íŒŒì¼
ğŸ‘‰ import ë¬¸ ì—†ì´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ì—¬ ì½”ë“œ ê°€ë…ì„±ê³¼ ìƒì‚°ì„± í–¥ìƒ

---

### Nuxt 3 í•µì‹¬ ë””ë ‰í† ë¦¬ êµ¬ì¡°

Nuxt 3ëŠ” ê·œì¹™ ê¸°ë°˜ì˜ í´ë” êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œ ìƒì‚°ì„±ì„ ë†’ì¸ë‹¤.

- **pages/**: íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ ë¼ìš°íŒ…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. (`app.vue`ê°€ ìˆìœ¼ë©´ ì„ íƒ ì‚¬í•­)
- **components/**: ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ì˜í•˜ë©°, ìë™ìœ¼ë¡œ import ë©ë‹ˆë‹¤.
- **layouts/**: í˜ì´ì§€ì˜ ê³µí†µ ë ˆì´ì•„ì›ƒì„ ì •ì˜í•©ë‹ˆë‹¤. (`<NuxtLayout>`)
- **server/**: API ì—”ë“œí¬ì¸íŠ¸ ë° ì„œë²„ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. (Nitro ì—”ì§„)
- **composables/**: `useFoo()` í˜•íƒœì˜ í›…ì„ ì‘ì„±í•˜ë©´ ìë™ import ë©ë‹ˆë‹¤.
- **middleware/**: í˜ì´ì§€ ì´ë™ ì „ ì‹¤í–‰ë˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ ê°€ë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
- **plugins/**: Vue ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œì ì— ì‹¤í–‰ë  í”ŒëŸ¬ê·¸ì¸ì„ ì •ì˜í•©ë‹ˆë‹¤.

---

### ìƒíƒœ ê´€ë¦¬ (State Management): useState

Nuxt 3ì—ì„œëŠ” `useState`ë¼ëŠ” SSR ì¹œí™”ì ì¸ ìƒíƒœ ê´€ë¦¬ í›…ì„ ì œê³µ
ì¼ë°˜ì ì¸ `ref`ë¥¼ ì»´í¬ë„ŒíŠ¸ ë°–ì—ì„œ ì‚¬ìš©í•˜ë©´, ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ ìƒíƒœ ë¶ˆì¼ì¹˜(Hydration Mismatch)ê°€ ë°œìƒí•˜ê±°ë‚˜, ìš”ì²­ ê°„ì— ìƒíƒœê°€ ê³µìœ ë˜ëŠ”(Cross-Request Pollution) ë³´ì•ˆ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
// composables/useCounter.ts
export const useCounter = () => {
  return useState('counter', () => 0)
}
```

```vue
<script setup>
  const count = useCounter()
</script>
```

- **SSR ì§€ì›**: ì„œë²„ì—ì„œ ì´ˆê¸°í™”ëœ ìƒíƒœë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì§ë ¬í™”í•˜ì—¬ ì „ë‹¬í•©ë‹ˆë‹¤.
- **ë²”ìœ„ ë³´ì¥**: ê° ìš”ì²­(Request)ë§ˆë‹¤ ë…ë¦½ì ì¸ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

---

### ì„œë²„ ì—”ì§„ Nitro

Nuxt 3ì˜ ê°•ë ¥í•œ ì„œë²„ ì—”ì§„ì¸ **Nitro**ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.

- **í¬ë¡œìŠ¤ í”Œë«í¼ ë°°í¬**: Node.js, Deno, Serverless(Vercel, AWS Lambda), Edge Worker ë“± ë‹¤ì–‘í•œ í™˜ê²½ì— ë°°í¬ ê°€ëŠ¥ (ì„¤ì • í•œ ì¤„ë¡œ ë³€í™˜)
- **ì„œë²„ API ë¼ìš°íŠ¸**: `server/api/` ë””ë ‰í† ë¦¬ì— íŒŒì¼ì„ ë§Œë“¤ë©´ ìë™ìœ¼ë¡œ API ì—”ë“œí¬ì¸íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.

```ts
// server/api/hello.ts
export default defineEventHandler((event) => {
    return {
    message: 'Hello World'
    }
})
```
â†’ `GET /api/hello` ë¡œ í˜¸ì¶œ ê°€ëŠ¥

---

### í•˜ì´ë¸Œë¦¬ë“œ ë Œë”ë§ (Hybrid Rendering)

Nuxt 3ëŠ” í˜ì´ì§€ë³„ë¡œ ë Œë”ë§ ì „ëµì„ ë‹¤ë¥´ê²Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆëŠ” **Route Rules** ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
`nuxt.config.ts`ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts
export default defineNuxtConfig({
    routeRules: {
    // ì •ì  í˜ì´ì§€ (ë¹Œë“œ ì‹œì ì— ìƒì„±)
    '/about': { prerender: true },
    
        // SWR (Stale-While-Revalidate): 1ì‹œê°„ë§ˆë‹¤ ìºì‹œ ê°±ì‹ 
        '/blog/**': { swr: 3600 },
    
        // API ì‘ë‹µ ìºì‹±
        '/api/**': { cache: { maxAge: 60 } },
    
        // SSR ë¹„í™œì„±í™” (SPA ëª¨ë“œ)
        '/admin/**': { ssr: false }
    }
})
```
ì´ë¥¼ í†µí•´ **ì •ì  ì‚¬ì´íŠ¸(SSG + JAMStack)**ì™€ **ë™ì  ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)**ì˜ ì¥ì ì„ ë™ì‹œì— ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
